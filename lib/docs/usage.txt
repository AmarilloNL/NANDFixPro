# NAND Fix Pro v2.0.4 - Complete Usage Guide

## Table of Contents
1. Introduction & Safety
2. Getting Started: Mandatory First Steps
3. Prerequisites (File & Hardware Checklist)
4. The In-App Workflow
5. Understanding the Repair Levels
6. Advanced: File Mode (Remote NAND Repair)
7. PRODINFO Editor
8. Settings & Configuration
9. Step-by-Step Procedures
10. Troubleshooting
11. FAQ
12. Final Notes

---

## 1. Introduction & Safety

### What is NAND Fix Pro?
NAND Fix Pro is a comprehensive GUI tool that orchestrates and automates the repair of software-level corruption on Nintendo Switch eMMC NAND storage. It simplifies the use of powerful tools like EmmcHaccGen and NxNandManager into an intuitive, button-driven process.

### CRITICAL WARNING
This tool CANNOT fix hardware issues. It is for software repair only. Proceed with caution and at your own risk.

### Risk Assessment
- Level 1: Minimal risk - preserves user data
- Level 2: Moderate risk - erases all user data but keeps console identity
- Level 3: High risk - loses official Nintendo services but maintains internet connectivity

---

## 2. Getting Started: Mandatory First Steps

Before you even launch NAND Fix Pro, you MUST perform these two steps. The application's core features will NOT work without them.

### Step 1: Dump Your Console Keys (prod.keys)
You must extract the unique encryption keys from your console.

How: Boot your Switch into Hekate and launch the Lockpick_RCM.bin payload.

What it does: This will create a file named prod.keys and save it to the /switch/ folder on your SD card.

Why it's required: The "Get Keys from SD" button in NAND Fix Pro searches for this specific file in this specific location. Without it, the application cannot proceed.

### Step 2: Create a Full NAND Backup
You must create a complete backup of your Switch's internal memory (eMMC).

How: Boot your Switch into Hekate. Navigate to Tools → Backup eMMC.

Action: First, select "eMMC BOOT0 & BOOT1". After it finishes, select "eMMC RAW GPP".

Why it's required: This serves two critical purposes:
1. Safety: This is your ultimate safety net. If anything goes wrong, this backup can restore your console.
2. Functionality: The backup process creates the /backup/[your_emmc_id]/restore/ folder structure on your SD card. The "Copy BOOT to SD" button REQUIRES this exact folder to place the new boot files. The button will fail if this folder does not exist.

Do not proceed until you have both your prod.keys on the SD card and a full NAND backup completed.

---

## 3. Prerequisites (File & Hardware Checklist)

### Required Files (that you should now have)
1. prod.keys: Located in /switch/ on your SD card (from Step 1 above).
2. Firmware Package: A complete, EXTRACTED Nintendo Switch firmware. It should be a folder containing subfolders like 00, 01, 02, etc.
3. PRODINFO (Level 3 only): A decrypted PRODINFO file (original / donor) for total recovery scenarios.

### Required Hardware
- Modded Nintendo Switch
- USB-C data transfer cable
- Windows PC with minimum 60GB free disk space (automatically verified before processing)

---

## 4. The In-App Workflow

With the mandatory first steps completed, using the app is simple:

1. Launch and Configure: Launch NANDFixPro.exe. The only path you need to set manually for Level 1 & 2 is your Firmware Folder. (Optional: Configure a custom temp directory in Settings if needed)
2. Get Keys: Mount your SD card in Hekate. Click "Get Keys from SD".
3. Start Process: Connect the eMMC in Hekate (Read-Only OFF). Click the "Start Process" button for your chosen level. (The tool automatically verifies 60GB free space before starting)
4. Copy BOOT: After the repair, mount the SD card again. Click "Copy BOOT to SD".
5. Restore in Hekate: In Hekate, use Tools → Restore eMMC to flash the eMMC BOOT0 & BOOT1.

---

## 5. Understanding the Repair Levels

### Level 1: System Restore
Best for: Most common software issues (hangs on boot, bad themes). Preserves user data.

This is the safest option that attempts to fix system corruption while keeping all your games, saves, and user data intact. Start here for most issues.

### Level 2: Full Rebuild
Best for: Deep corruption where Level 1 fails. ERASES ALL USER DATA.

This completely rebuilds the system partitions but maintains your console's unique identity. You'll lose all games and saves but can still use Nintendo services.

Advanced: Fix USER Only Button: A faster variant within the Level 2 tab. Only rebuilds the USER partition.

### Level 3: Complete Recovery
Best for: Total NAND loss (LAST RESORT). PERMANENTLY BREAKS OFFICIAL NINTENDO SERVICES.

This is the nuclear option for completely dead consoles. Your Switch will work but will never be able to connect to Nintendo's servers again.

---

## 6. Advanced: File Mode (Remote NAND Repair)

### What is File Mode?
File Mode allows you to repair a RawNAND file without needing physical access to the console. This is useful for:
- Remote NAND repair (someone sends you their NAND dump)
- Offline processing and testing
- Preparing a fixed NAND in advance
- Learning and experimentation without risk to hardware

### How to Access File Mode
Click on the **"Advanced: File Mode"** tab at the top of the application.

### What You Need for File Mode
1. **RawNAND Input File**: A complete rawnand.bin dump from the Switch
2. **Output Directory**: Where the repaired files will be saved
3. **Firmware Folder**: Same firmware package used in other levels
4. **Keys File**: Still required (get it using "Get Keys from SD")
5. **Additional files** (depending on level):
   - Level 2: Donor partition archives (USER, SYSTEM, etc.)
   - Level 3: Donor PRODINFO file

### File Mode Workflow

**Level 1: Fix SYSTEM in RawNAND**
1. Select your rawnand.bin file
2. Choose an output directory
3. Select firmware folder
4. Click "Process File: Level 1"
5. Output: `rawnand_fixed.bin`, `boot0`, `boot1`

**Level 2: Full Rebuild from RawNAND**
1. Select your rawnand.bin file
2. Choose an output directory
3. Select firmware folder
4. Click "Process File: Level 2"
5. Output: `rawnand_rebuilt.bin`, `boot0`, `boot1`

**Level 3: Complete Reconstruction**
1. Select your rawnand.bin file (or any placeholder NAND)
2. Choose an output directory
3. Select firmware folder and donor PRODINFO
4. Click "Process File: Level 3"
5. Output: `rawnand_reconstructed.bin`, `boot0`, `boot1`

### Flashing the Repaired NAND
After file mode processing completes:

**Option 1: Flash entire RawNAND**
- Use Hekate's "Restore eMMC → eMMC RAW GPP" to flash the output rawnand file

**Option 2: Flash just boot files**
- Copy boot0 and boot1 to SD card's `/backup/[emmcID]/restore/` folder
- In Hekate: Tools → Restore eMMC → eMMC BOOT0 & BOOT1

### Important Notes
- File mode processes can take 30+ minutes for large NANDs
- Requires 60GB free disk space (same as direct mode)
- The original input file is never modified (read-only)
- All outputs are saved to your chosen output directory
- You can run multiple repairs with different settings

---

## 7. PRODINFO Editor

### What is the PRODINFO Editor?
The PRODINFO Editor is an integrated tool that allows you to modify your Switch's PRODINFO (calibration) data before using it in a Level 3 recovery. This is useful for customizing donor PRODINFO files.

### When to Use It
The PRODINFO Editor menu becomes available when:
- You import a donor PRODINFO from SD card (via "Get Keys from SD"), OR
- You manually select a donor PRODINFO file (via Settings menu)

### What You Can Edit
1. Serial Number: Change the 14-character console serial (format: XAW10012345678)
2. WiFi Region: Modify the wireless region code (America, Europe, Japan, etc.)
3. Frame Colors: Customize the bezel and main body colors with hex color codes

### Accessing the Editor
1. Load a PRODINFO file using either:
   - Click "Get Keys from SD" (if donor PRODINFO is on SD card)
   - Go to Settings → Set Donor PRODINFO and browse to your file
2. The "PRODINFO Editor" menu will activate at the top menu bar
3. Click "PRODINFO Editor" → "Edit PRODINFO File"

### The Editing Workflow
Recommended order:

1. Verify Integrity First (optional but recommended)
   - Click "Verify Integrity" button to check the current state
   - Review the log for any existing errors or warnings
   - Note: Uninitialized color data (000000) is normal for some NAND dumps

2. Make Your Edits
   - Serial Number: Must be exactly 14 characters (letters and numbers)
   - WiFi Region: Select from dropdown menu
   - Frame Colors: Enter 6-digit hex codes or use color picker

3. Save Changes
   - Click "Apply Changes"
   - All checksums (CRC16) and hashes (SHA256) are automatically recalculated

4. Verify Integrity Again (recommended)
   - Click "Verify Integrity" after saving
   - Confirms all checksums are valid
   - Ensures the file will be accepted by Switch firmware

### Important Notes
- A backup (.bak) is automatically created when you load a file
- The editor only works with decrypted PRODINFO files (CAL0 magic header)
- Changes are permanent once saved
- Invalid checksums will cause Atmosphère to flag INVALID_PRODINFO errors

### Color Customization Tips
- Use the color picker for easy selection
- Preview shows how colors will look on your Switch
- Bezel = front frame around screen
- Main = back shell body color
- Common hex codes:
  - Black: 000000
  - White: FFFFFF
  - Red: FF0000
  - Blue: 0000FF
  - Gray: 808080

---

## 8. Settings & Configuration

### Accessing Settings
The Settings menu is located in the top menu bar of the application. Click "Settings" to access configuration options for customizing the tool's behavior.

### Available Settings

#### Custom Temporary Directory
By default, NAND Fix Pro uses your system's default temporary directory (typically C:\Users\YourName\AppData\Local\Temp\) for all processing operations. You can change this to any location with sufficient free space.

**How to configure:**
1. Click "Settings" in the menu bar
2. Select "Set Temporary Directory..."
3. Browse to and select your preferred directory
4. The tool will now use this location for all temporary files during processing

**When to use a custom directory:**
- Your system drive (C:) has limited space
- You have a faster secondary drive (SSD) that can speed up processing
- You want to keep temporary files organized in a specific location
- You need to process on a drive with more than 60GB available

**Important notes:**
- The selected directory must have at least 60GB of free space
- The tool automatically checks available space before starting any process
- Temporary files are automatically cleaned up after successful operations
- All temp folders follow the naming pattern: `switch_gui_*` with timestamps

#### Other Settings
The Settings menu also allows you to manually configure paths if needed:
- **7-Zip (7z.exe)**: Path to the 7-Zip extraction tool
- **EmmcHaccGen.exe**: Path to the EmmcHaccGen tool
- **NxNandManager.exe**: Path to the NxNandManager tool
- **OSFMount.com**: Path to the OSFMount tool
- **Partitions Folder (NAND)**: Path to the folder containing donor partition archives

*Note: These paths are automatically detected from the lib folder and typically don't require manual configuration.*

### Disk Space Management

#### Automatic Space Verification
Before starting any Level 1, Level 2, or Level 3 process, NAND Fix Pro automatically:
1. Checks the available free space on your temp directory (or system default)
2. Requires a minimum of 60GB free space
3. Displays an error dialog if insufficient space is detected
4. Prevents the process from starting until space is available

#### What happens if space is insufficient?
You'll see a dialog showing:
- The drive being checked
- Space required (60GB)
- Space currently available
- Suggestion to free up space or select a different temp directory

**Solutions:**
- Free up space on the current drive
- Change to a different drive using Settings → Set Temporary Directory
- Delete old temporary folders manually if previous processes were interrupted

#### Automatic Cleanup
NAND Fix Pro manages temporary files intelligently:
- Temporary directories are created with unique timestamps for each operation
- Files are automatically deleted after successfully copying BOOT files to SD
- If a process fails, temp files are cleaned up automatically
- On application exit, any remaining temp directories are removed
- The "Reset App" button in Help menu also clears all temp folders

### Settings Persistence
All settings (including custom temp directory) are saved to a `config.json` file and persist between application sessions.

---

## 9. Step-by-Step Procedures

### For All Levels - The Basic Process

1. Complete the mandatory first steps (dump keys and create backup)
2. Launch NAND Fix Pro and set your firmware folder path
3. Mount SD card in Hekate and click "Get Keys from SD"
4. Connect eMMC in Hekate (ensure Read-Only is OFF)
5. Click the appropriate "Start Process" button for your chosen level
6. Wait for the process to complete
7. Follow the final bootloader flashing step below

### Level 3 Extended Process (with PRODINFO Editing)

1. Complete the mandatory first steps
2. Launch NAND Fix Pro and set firmware folder path
3. Mount SD card in Hekate and click "Get Keys from SD"
4. If donor PRODINFO was found, optionally edit it:
   - Click "PRODINFO Editor" menu
   - Click "Edit PRODINFO File"
   - Verify integrity (optional but recommended)
   - Edit serial, region, colors as desired
   - Click "Apply Changes"
   - Verify integrity again (recommended)
   - Close the editor
5. Connect eMMC in Hekate (Read-Only OFF)
6. Click "Start Level 3 Process"
7. Follow the BOOT flashing steps as usual

### Final Step for All Levels - Flashing the Bootloader via Hekate (Required)

1. After a Level process finishes, the "Copy BOOT to SD" button will turn blue.
2. In Hekate, switch to the SD Card USB tool.
3. Click the "Copy BOOT to SD" button in NAND Fix Pro. It will automatically find the /backup/[emmcID]/restore folder and copy the files.
4. Once copied, safely eject the SD card from your PC.
5. In Hekate, go to Tools → Restore eMMC → eMMC BOOT0 & BOOT1.

---

## 10. Troubleshooting

### Common Issues and Solutions

"No potential Switch eMMC drives found": Ensure Switch is in eMMC RAW GPP mode and Read-Only is OFF in Hekate.

"Keys Not Found": You did not complete Step 1. Run Lockpick_RCM to create prod.keys in /switch/ on your SD card.

"Backup Folder Not Found": You did not complete Step 2. You must create a full NAND backup in Hekate to create the required folder structure.

"Permission denied": The app should run as admin. Close any file explorer windows browsing the Switch eMMC or SD card.

"Insufficient Disk Space": The tool requires 60GB free space. Either free up space on your current drive or go to Settings → Set Temporary Directory to choose a different drive with more space.

"Cannot access physical drive": This may be due to antivirus interference, USB connection issues, or Windows blocking the operation. Try a different USB port (preferably USB 2.0), temporarily disable antivirus, or ensure the Switch is properly in RCM mode with Hekate.

Save the Log: If you encounter an error, use the "Save Log" button. This file is critical for getting support.

### PRODINFO Editor Issues

"Invalid PRODINFO file. Please supply a decrypted Prodinfo."
- Your PRODINFO is encrypted. Use NxNandManager or dump it via Tegraexplorer after dumping the console keys with Lockpick_RCM.

"Verification Failed - Found X critical errors"
- Check the log output for specific blocks with errors
- If colors show as uninitialized (000000), this is often normal
- Body SHA256 errors will prevent Atmosphère from accepting the file

"Serial exceeds 14 characters" or "Invalid ASCII characters"
- Serial must be exactly 14 alphanumeric characters
- Common format: XAW followed by 11 digits

PRODINFO Editor menu is grayed out
- No valid PRODINFO file is loaded
- Load one via "Get Keys from SD" or Settings → Set Donor PRODINFO

---

## 11. FAQ

### Frequently Asked Questions

Q: Can this fix a completely dead Switch?
A: Only if the issue is software corruption. Hardware problems require physical repair.

Q: Will I lose my game saves?
A: Level 1 preserves everything. Level 2 and 3 will erase all user data including saves.

Q: Can I use this on an unmodded Switch?
A: No, this requires custom firmware and the ability to boot payloads.

Q: Do I need to edit the PRODINFO for Level 3?
A: No, editing is optional. The process will work with any valid donor PRODINFO. Editing is only needed if you want to customize the serial number, colors, or region.

Q: Will changing the serial number cause issues?
A: The serial is cosmetic in custom firmware. Your console will work fine, but it won't match the official serial database.

Q: Can I change where temporary files are stored?
A: Yes! Go to Settings → Set Temporary Directory and select any folder with at least 60GB of free space. This is useful if your system drive is running low on space.

Q: What happens if I run out of disk space during processing?
A: The tool checks for 60GB of free space before starting any process. If space runs out during processing, the operation will fail, but the tool will automatically clean up partial temporary files.

Q: Where are temporary files stored by default?
A: By default, they're stored in your system's temp directory (typically C:\Users\YourName\AppData\Local\Temp\). All temp folders created by NAND Fix Pro follow the pattern `switch_gui_*` with timestamps.

Q: What is File Mode and when should I use it?
A: File Mode allows you to repair RawNAND files without connecting a Switch. It's perfect for remote repairs, offline processing, or helping someone else fix their NAND. Access it via the "Advanced: File Mode" tab.

Q: Can I use File Mode without a Switch console?
A: Yes! You only need the rawnand.bin file, keys, and firmware. This makes it possible to repair NANDs for other people remotely.

Q: Does File Mode modify my original RawNAND file?
A: No, the original file is never modified. File Mode creates new output files in your chosen output directory.

Q: Can I flash the file mode output back to my Switch?
A: Yes! Use Hekate's "Restore eMMC → eMMC RAW GPP" for the full rawnand file, or flash just the boot0/boot1 files using the normal boot restore process.

---

## 12. Final Notes

### Important Reminders

Always create a backup before attempting any repairs. This tool is provided as-is with no guarantees. Use at your own risk and only if you understand the consequences.

For support, always include your log file when reporting issues. The development team relies on these logs to help diagnose problems.

Remember that Level 3 repairs permanently affect your console's ability to use official Nintendo services. Only use this as a last resort when your console is otherwise unusable.

### Success Tips

- Ensure stable power throughout the process
- Use a high-quality USB-C cable for data transfer
- Don't interrupt the process once started
- Double-check all file paths before beginning
- Keep your firmware package up to date
- When using the PRODINFO Editor, always verify integrity after making changes
- If your system drive is low on space, configure a custom temp directory before starting
- The tool will automatically verify you have 60GB free before processing begins

### What's New in v2.0.4

**New Feature: Advanced File Mode**
- Work with RawNAND files offline without connecting your Switch
- Perfect for remote NAND repair scenarios
- Process files for Level 1, Level 2, and Level 3 repairs
- Generates repaired rawnand.bin plus boot0/boot1 files
- Original files are never modified (read-only operation)

**How to Use File Mode:**
- Navigate to the new "Advanced: File Mode" tab
- Select your rawnand.bin input file
- Choose an output directory
- Click the appropriate "Process File: Level X" button
- Flash the output files using Hekate's restore functions

### What's New in v2.0.3

**Enhanced Storage Management:**
- Custom Temporary Directory: Choose where temporary files are stored during processing
- Automatic Disk Space Verification: 60GB minimum space check before any process begins
- Improved Cleanup: Better automatic cleanup of temporary files and folders
- Centralized Settings Menu: Easy access to all configuration options

**Reliability Improvements:**
- Better error handling for disk space issues
- Automatic cleanup on application exit
- Enhanced logging for troubleshooting storage-related problems

This tool has helped countless users recover their consoles when used properly. Take your time, follow the steps carefully, and don't skip the mandatory preparation steps.